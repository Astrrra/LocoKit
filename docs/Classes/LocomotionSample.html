<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LocomotionSample Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/LocomotionSample" class="dashAnchor"></a>
    <a title="LocomotionSample Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">ArcKit Docs</a> (52% documented)</p>
        <p class="header-right"><a href="https://github.com/sobri909/ArcKit"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">ArcKit Reference</a>
        <img id="carat" src="../img/carat.png" />
        LocomotionSample Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/LocomotionManager.html">LocomotionManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LocomotionSample.html">LocomotionSample</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/MovingState.html">MovingState</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>LocomotionSample</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">LocomotionSample</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">ActivityTypeClassifiable</span></code></pre>

                </div>
              </div>
            <p>A composite, high level representation of the device&rsquo;s location, motion, and activity states over a brief
duration of time.</p>

<p>The current sample can be retrieved from <code>LocomotionManager.highlander.locomotionSample()</code>.</p>
<h2 id='dynamic-sample-sizes' class='heading'>Dynamic Sample Sizes</h2>

<p>Each sample&rsquo;s duration is dynamically determined, depending on the quality and quantity of available ocation
and motion data. Samples sizes typically range from 10 to 60 seconds, however varying conditions can sometimes
produce sample durations outside those bounds.</p>

<p>Higher quality and quantity of available data results in shorter sample durations, with more specific
representations of single moments in time.</p>

<p>Lesser quality or quantity of available data result in longer sample durations, thus representing the average or most
common states and location over the sample period instead of a single specific moment.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC4date10Foundation4DateVv"></a>
                    <a name="//apple_ref/swift/Property/date" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC4date10Foundation4DateVv">date</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The timestamp for the weighted centre of the sample period. Equivalent to <code>location.timestamp</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">date</span><span class="p">:</span> <span class="kt">Date</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Location%20Properties"></a>
                <a name="//apple_ref/swift/Section/Location Properties" class="dashAnchor"></a>
                <a href="#/Location%20Properties">
                  <h3 class="section-name">Location Properties</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC8locationSo10CLLocationCSgv"></a>
                    <a name="//apple_ref/swift/Property/location" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC8locationSo10CLLocationCSgv">location</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The sample&rsquo;s smoothed location, equivalent to the weighted centre of the sample&rsquo;s <code><a href="../Classes/LocomotionSample.html#/s:6ArcKit16LocomotionSampleC17filteredLocationsSaySo10CLLocationCGv">filteredLocations</a></code>.</p>

<p>This is the most high level location value, representing the final result of all available filtering and smoothing
algorithms. This value is most useful for drawing smooth, coherent paths on a map for end user consumption.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">location</span><span class="p">:</span> <span class="kt">CLLocation</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC12rawLocationsSaySo10CLLocationCGv"></a>
                    <a name="//apple_ref/swift/Property/rawLocations" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC12rawLocationsSaySo10CLLocationCGv">rawLocations</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The raw locations received over the sample duration.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">rawLocations</span><span class="p">:</span> <span class="p">[</span><span class="kt">CLLocation</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC17filteredLocationsSaySo10CLLocationCGv"></a>
                    <a name="//apple_ref/swift/Property/filteredLocations" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC17filteredLocationsSaySo10CLLocationCGv">filteredLocations</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The Kalman filtered locations recorded over the sample duration.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">filteredLocations</span><span class="p">:</span> <span class="p">[</span><span class="kt">CLLocation</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC11movingStateAA06MovingF0Ov"></a>
                    <a name="//apple_ref/swift/Property/movingState" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC11movingStateAA06MovingF0Ov">movingState</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The moving or stationary state for the sample. See <code><a href="../Enums/MovingState.html">MovingState</a></code> for details on possible values.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">movingState</span><span class="p">:</span> <span class="kt"><a href="../Enums/MovingState.html">MovingState</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Motion%20Properties"></a>
                <a name="//apple_ref/swift/Section/Motion Properties" class="dashAnchor"></a>
                <a href="#/Motion%20Properties">
                  <h3 class="section-name">Motion Properties</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC6stepHzSdv"></a>
                    <a name="//apple_ref/swift/Property/stepHz" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC6stepHzSdv">stepHz</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The user&rsquo;s walking/running/cycling cadence (steps per second) over the sample duration.</p>

<p>This value is taken from <a href="https://developer.apple.com/documentation/coremotion/cmpedometer">CMPedometer</a>. and will
only contain a usable value if <code>startCoreMotion()</code> has been called on the LocomotionManager.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    If the user is travelling by vehicle, this value may report a false value due to bumpy motion being 
misinterpreted as steps by CMPedometer.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">stepHz</span><span class="p">:</span> <span class="kt">Double</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC14courseVarianceSdv"></a>
                    <a name="//apple_ref/swift/Property/courseVariance" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC14courseVarianceSdv">courseVariance</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The degree of variance in course direction over the sample duration.</p>

<p>A value of 0.0 represents a perfectly straight path. A value of 1.0 represents complete inconsistency of 
direction between each location.</p>

<p>This value may indicate several different conditions, such as high or low location accuracy (ie clean or erratic
paths due to noisy location data), or the user travelling in either a straight or curved path. However given that 
the filtered locations already have the majority of path jitter removed, this value should not be considered in
isolation from other factors - no firm conclusions can be drawn from it alone.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">courseVariance</span><span class="p">:</span> <span class="kt">Double</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC14xyAccelerationSdv"></a>
                    <a name="//apple_ref/swift/Property/xyAcceleration" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC14xyAccelerationSdv">xyAcceleration</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The average amount of accelerometer motion on the XY plane over the sample duration.</p>

<p>This value can be taken to be <code>mean(abs(xyAccelerations)) + (std(abs(xyAccelerations) * 3.0)</code>, with 
xyAccelerations being the recorded accelerometer X and Y values over the sample duration. Thus it represents the
mean + 3SD of the unsigned acceleration values.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">xyAcceleration</span><span class="p">:</span> <span class="kt">Double</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC13zAccelerationSdv"></a>
                    <a name="//apple_ref/swift/Property/zAcceleration" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC13zAccelerationSdv">zAcceleration</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The average amount of accelerometer motion on the Z axis over the sample duration.</p>

<p>This value can be taken to be <code>mean(abs(zAccelerations)) + (std(abs(zAccelerations) * 3.0)</code>, with
zAccelerations being the recorded accelerometer Z values over the sample duration. Thus it represents the
mean + 3SD of the unsigned acceleration values.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">zAcceleration</span><span class="p">:</span> <span class="kt">Double</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Activity%20Type%20Properties"></a>
                <a name="//apple_ref/swift/Section/Activity Type Properties" class="dashAnchor"></a>
                <a href="#/Activity%20Type%20Properties">
                  <h3 class="section-name">Activity Type Properties</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC22coreMotionActivityTypeAA04CorefgH4NameOSgv"></a>
                    <a name="//apple_ref/swift/Property/coreMotionActivityType" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC22coreMotionActivityTypeAA04CorefgH4NameOSgv">coreMotionActivityType</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The highest scoring Core Motion activity type 
(<a href="https://developer.apple.com/documentation/coremotion/cmmotionactivity">CMMotionActivity</a>) at the time of the 
sample&rsquo;s <code><a href="../Classes/LocomotionSample.html#/s:6ArcKit16LocomotionSampleC4date10Foundation4DateVv">date</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">coreMotionActivityType</span><span class="p">:</span> <span class="kt">CoreMotionActivityTypeName</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Convenience%20Getters"></a>
                <a name="//apple_ref/swift/Section/Convenience Getters" class="dashAnchor"></a>
                <a href="#/Convenience%20Getters">
                  <h3 class="section-name">Convenience Getters</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit16LocomotionSampleC9timeOfDaySdv"></a>
                    <a name="//apple_ref/swift/Property/timeOfDay" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit16LocomotionSampleC9timeOfDaySdv">timeOfDay</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A convenience getter for the sample&rsquo;s time interval since start of day.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">timeOfDay</span><span class="p">:</span> <span class="kt">TimeInterval</span> <span class="o">=</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/sobri909/ArcKit" target="_blank" rel="external">Matt Greenfield</a>. All rights reserved. (Last updated: 2017-10-09)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.4</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
