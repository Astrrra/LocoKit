<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ArcKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="ArcKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">ArcKit Docs</a> (52% documented)</p>
        <p class="header-right"><a href="https://github.com/sobri909/ArcKit"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">ArcKit Reference</a>
        <img id="carat" src="img/carat.png" />
        ArcKit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/LocomotionManager.html">LocomotionManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LocomotionSample.html">LocomotionSample</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/MovingState.html">MovingState</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='arckit' class='heading'>ArcKit</h1>

<p>A location and activity recording framework for iOS.</p>
<h2 id='demo-app-examples' class='heading'>Demo App Examples</h2>
<h3 id='short-walk-between-nearby-buildings' class='heading'>Short Walk Between Nearby Buildings</h3>

<table><thead>
<tr>
<th>Raw (red) + Smoothed (blue)</th>
<th>Smoothed (blue) + Visits (orange)</th>
<th>Smoothed (blue) + Visits (orange)</th>
</tr>
</thead><tbody>
<tr>
<td><img src="https://raw.githubusercontent.com/sobri909/ArcKit/master/Screenshots/raw_plus_smoothed.png" alt=""></td>
<td><img src="https://raw.githubusercontent.com/sobri909/ArcKit/master/Screenshots/smoothed_plus_visits.png" alt=""></td>
<td><img src="https://raw.githubusercontent.com/sobri909/ArcKit/master/Screenshots/smoothed_only.png" alt=""></td>
</tr>
</tbody></table>

<p>The blue segments indicate locations that ArcKit determined to be moving. The orange segments indicate stationary. Note
that locations inside buildings are more likely to classified as stationary, thus allowing location data to be more 
easily clustered into <q>visits</q>.</p>
<h3 id='tuk-tuk-ride-through-traffic-in-built-up-city-area' class='heading'>Tuk-tuk Ride Through Traffic in Built-up City Area</h3>

<table><thead>
<tr>
<th>Raw Locations</th>
<th>Smoothed (blue) + Stuck (orange)</th>
<th>Smoothed (blue) + Stuck (orange)</th>
</tr>
</thead><tbody>
<tr>
<td><img src="https://raw.githubusercontent.com/sobri909/ArcKit/master/Screenshots/tuktuk_raw.png" alt=""></td>
<td><img src="https://raw.githubusercontent.com/sobri909/ArcKit/master/Screenshots/tuktuk_smoothed_plus_visits.png" alt=""></td>
<td><img src="https://raw.githubusercontent.com/sobri909/ArcKit/master/Screenshots/tuktuk_smoothed.png" alt=""></td>
</tr>
</tbody></table>

<p>Location accuracy for this trip ranged from 30 to 100 metres, with minimal GPS line of sight and
significant <q>urban canyon</q> effects (GPS blocked on both sides by tall buildings and blocked from above by an elevated 
rail line). However stationary / moving state detection was still achieved to an accuracy of 5 to 10 metres. </p>

<p><strong>Note:</strong> The orange dots in the second screenshot indicate <q>stuck in traffic</q>. The third screenshot shows the <q>stuck</q> 
segments as paths, for easier inspection. </p>
<h2 id='features' class='heading'>Features</h2>

<ul>
<li>Raw locations, <a href="https://en.wikipedia.org/wiki/Kalman_filter">Kalman filtered</a> locations, and dynamically smoothed 
<a href="https://sobri909.github.io/ArcKit/Classes/LocomotionSample.html">LocomotionSamples</a> (combined location / motion / 
activity state objects)</li>
<li>High resolution, near real time stationary / moving state detection (with accuracy up to 5 metres, and reporting 
delay between 6 and 60 seconds)</li>
<li>Dynamic energy use management, to achieve best possible accuracy without wasteful battery consumption</li>
<li>Filtered and sanitised Core Motion accelerometer, pedometer, and activity type data</li>
<li><strong>Coming in next release:</strong> Machine learning based activity type detection with significantly higher accuracy than 
Core Motion, and ability to distinguish between more activity types (car, train, bus, and more).</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>

<p><code>pod &#39;ArcKit&#39;</code></p>
<h2 id='demo-apps' class='heading'>Demo Apps</h2>

<ul>
<li>To run the demo app from this repository, do a <code>pod install</code> before building</li>
<li>To see the full SDK features in action in a production app (including as yet unreleased machine learning 
features) try <a href="https://itunes.apple.com/app/arc-app-location-activity-tracker/id1063151918?mt=8">Arc App</a> on the App 
Store</li>
</ul>
<h2 id='code-example' class='heading'>Code Example</h2>

<p>See the demo app source in this repo for more complete code examples.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">locoManager</span> <span class="o">=</span> <span class="kt">LocomotionManager</span><span class="o">.</span><span class="n">highlander</span>
<span class="k">let</span> <span class="nv">noteCenter</span> <span class="o">=</span> <span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span>
<span class="k">let</span> <span class="nv">queue</span> <span class="o">=</span> <span class="kt">OperationQueue</span><span class="o">.</span><span class="n">main</span> 

<span class="c1">// watch for location updates</span>
<span class="n">noteCenter</span><span class="o">.</span><span class="nf">addObserver</span><span class="p">(</span><span class="nv">forName</span><span class="p">:</span> <span class="o">.</span><span class="n">locomotionSampleUpdated</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">queue</span><span class="p">:</span> <span class="n">queue</span><span class="p">)</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"rawLocation: </span><span class="se">\(</span><span class="n">locoManager</span><span class="o">.</span><span class="n">rawLocation</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"filteredLocation: </span><span class="se">\(</span><span class="n">locoManager</span><span class="o">.</span><span class="n">filteredLocation</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"locomotionSample: </span><span class="se">\(</span><span class="n">locoManager</span><span class="o">.</span><span class="nf">locomotionSample</span><span class="p">()</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// start recording</span>
<span class="n">locoManager</span><span class="o">.</span><span class="nf">startCoreLocation</span><span class="p">()</span>
</code></pre>
<h2 id='documentation' class='heading'>Documentation</h2>

<ul>
<li><a href="https://sobri909.github.io/ArcKit/">ArcKit API Reference</a></li>
</ul>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/sobri909/ArcKit" target="_blank" rel="external">Matt Greenfield</a>. All rights reserved. (Last updated: 2017-09-15)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
