<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ClassifierResults Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Struct/ClassifierResults" class="dashAnchor"></a>
    <a title="ClassifierResults Structure Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">ArcKit Docs</a> (67% documented)</p>
        <p class="header-right"><a href="https://github.com/sobri909/ArcKit"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">ArcKit Reference</a>
        <img id="carat" src="../img/carat.png" />
        ClassifierResults Structure Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/ActivityTypeClassifier.html">ActivityTypeClassifier</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LocomotionManager.html">LocomotionManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LocomotionSample.html">LocomotionSample</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/ActivityTypeName.html">ActivityTypeName</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/CoreMotionActivityTypeName.html">CoreMotionActivityTypeName</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/MovingState.html">MovingState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/ClassifierResultItem.html">ClassifierResultItem</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ClassifierResults.html">ClassifierResults</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>ClassifierResults</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ClassifierResults</span><span class="p">:</span> <span class="kt">Sequence</span><span class="p">,</span> <span class="kt">IteratorProtocol</span></code></pre>

                </div>
              </div>
            <p>The results of a call to <code>classify(_:types:)</code> on an <code><a href="../Classes/ActivityTypeClassifier.html">ActivityTypeClassifier</a></code>.</p>

<p>Classifier Results are an iterable sequence of <code><a href="../Structs/ClassifierResultItem.html">ClassifierResultItem</a></code> rows, with each row representing a single
<code><a href="../Enums/ActivityTypeName.html">ActivityTypeName</a></code> and its match probability score.</p>

<p>The results are ordered from best match to worst match, thus the first result row represents the best match for the
given sample.</p>
<h2 id='using-the-results' class='heading'>Using The Results</h2>

<p>The simplest way to use the results is to take the first result row (ie the best match) and ignore the rest.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">results</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="nf">classify</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">bestMatch</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">first</span>
</code></pre>

<p>You could also iterate through the results, in order from best match to worst match.</p>
<pre class="highlight swift"><code><span class="k">for</span> <span class="n">result</span> <span class="k">in</span> <span class="n">results</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"name: </span><span class="se">\(</span><span class="n">result</span><span class="o">.</span><span class="n">name</span><span class="se">)</span><span class="s"> score: </span><span class="se">\(</span><span class="n">result</span><span class="o">.</span><span class="n">score</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>If you want to know the probability score of a specific type, you could extract that result row by <code><a href="../Enums/ActivityTypeName.html">ActivityTypeName</a></code>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">walkingResult</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="o">.</span><span class="n">walking</span><span class="p">]</span>
</code></pre>

<p>If you want the first and second result rows:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">firstResult</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">secondResult</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre>
<h2 id='interpreting-classifier-results' class='heading'>Interpreting Classifier Results</h2>

<p>Two key indicators can help to interpret the probability scores. The first being the most obvious: a higher score
indicates a better match.</p>

<p>The second, and perhaps more important indicator, is the ratio of the best match&rsquo;s score to the second best match&rsquo;s
score.</p>

<p>For example if the first result row has a probability score of 0.9 (a 90% match) while the second result row&rsquo;s score
is 0.1 (a 10% match), that indicates that the best match is nine times more probable than the second best match
(<code>0.9 / 0.1 = 9.0</code>). However if the second row&rsquo;s score where instead 0.8, the first row would only be 1.125 times more
probable than the second (<code>0.9 / 0.8 = 1.125</code>).</p>

<p>The ratio between the first and second best matches can be loosely considered a <q>confidence</q> score. Thus the
<code>0.9 / 0.1 = 9.0</code> example gives a confidence score of 9.0, whilst the second example of <code>0.9 / 0.8 = 1.125</code> gives
a much lower confidence score of 1.125.</p>

<p>A real world example might be results that have <q>car</q> and <q>bus</q> as the top two results. If both types achieve a high
probability score, but the scores are close together, that indicates there is high confidence that the type is either
car or bus, but low confidence of knowing which one of the two it is.</p>

<p>The easiest way to apply these two metrics is with simple thresholds. For example a raw score threshold of 0.01
and a first-to-second-match ratio threshold of 2.0. If the first match falls below these thresholds, you could consider
it an <q>uncertain</q> match. Although which kinds of thresholds to use will depend heavily on the application.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17ClassifierResultsV10moreComingSbv"></a>
                    <a name="//apple_ref/swift/Property/moreComing" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17ClassifierResultsV10moreComingSbv">moreComing</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Indicates that the classifier does not yet have all relevant model data, so a subsequent attempt to classify the
same sample again may produce new results with higher accuracy.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Classifiers manage the fetching and caching of model data internally, so if the classifier returns results
flagged with <code>moreComing</code> it will already have requested the missing model data from the server. Provided a
working internet connection is available, the missing model data should be available in the classifier in less
than a second.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">moreComing</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17ClassifierResultsV5arraySayAA0C10ResultItemVGv"></a>
                    <a name="//apple_ref/swift/Property/array" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17ClassifierResultsV5arraySayAA0C10ResultItemVGv">array</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the result rows as a plain array.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/ClassifierResultItem.html">ClassifierResultItem</a></span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17ClassifierResultsV9subscriptAA0C10ResultItemVSgAA16ActivityTypeNameOci"></a>
                    <a name="//apple_ref/swift/Method/subscript(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17ClassifierResultsV9subscriptAA0C10ResultItemVSgAA16ActivityTypeNameOci">subscript(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A convenience subscript to enable lookup by <code><a href="../Enums/ActivityTypeName.html">ActivityTypeName</a></code>.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">walkingResult</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="o">.</span><span class="n">walking</span><span class="p">]</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="nf">subscript</span><span class="p">(</span><span class="nv">activityType</span><span class="p">:</span> <span class="kt"><a href="../Enums/ActivityTypeName.html">ActivityTypeName</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/ClassifierResultItem.html">ClassifierResultItem</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:s16IteratorProtocolP4next7ElementQzSgyF"></a>
                    <a name="//apple_ref/swift/Method/next()" class="dashAnchor"></a>
                    <a class="token" href="#/s:s16IteratorProtocolP4next7ElementQzSgyF">next()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">mutating</span> <span class="kd">func</span> <span class="nf">next</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/ClassifierResultItem.html">ClassifierResultItem</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/sobri909/ArcKit" target="_blank" rel="external">Matt Greenfield</a>. All rights reserved. (Last updated: 2017-10-13)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.4</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
