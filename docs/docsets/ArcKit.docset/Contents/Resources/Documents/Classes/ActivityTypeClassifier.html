<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ActivityTypeClassifier Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/ActivityTypeClassifier" class="dashAnchor"></a>
    <a title="ActivityTypeClassifier Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">ArcKit Docs</a> (59% documented)</p>
        <p class="header-right"><a href="https://github.com/sobri909/ArcKit"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">ArcKit Reference</a>
        <img id="carat" src="../img/carat.png" />
        ActivityTypeClassifier Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/ActivityTypeClassifier.html">ActivityTypeClassifier</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LocomotionManager.html">LocomotionManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LocomotionSample.html">LocomotionSample</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/ActivityTypeName.html">ActivityTypeName</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/MovingState.html">MovingState</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>ActivityTypeClassifier</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">ActivityTypeClassifier</span><span class="o">&lt;</span><span class="kt">C</span><span class="p">:</span> <span class="kt">MLModelSource</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">NSObject</span></code></pre>

                </div>
              </div>
            <p>Activity Type Classifiers are Machine Learning Classifiers. Use an Activity Type Classifier to determine the
<code><a href="../Enums/ActivityTypeName.html">ActivityTypeName</a></code> of a <code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code>.</p>
<h2 id='supported-activity-types' class='heading'>Supported Activity Types</h2>
<h4 id='base-types' class='heading'>Base Types</h4>
<pre class="highlight plaintext"><code>stationary, transport, walking, running, cycling
</code></pre>

<p>Base types match one-to-one with <a href="https://developer.apple.com/documentation/coremotion/cmmotionactivity">Core Motion activity types</a>,
with the exception of Core Motion&rsquo;s <q>automotive</q> being renamed to <q>transport</q> in ArcKit.</p>
<h4 id='extended-types' class='heading'>Extended Types</h4>
<pre class="highlight plaintext"><code>car, train, bus, motorcycle, airplane, boat
</code></pre>

<p>Extended types are a subset of the base <q>transport</q> type, allowing for more specific classification when enough
local data is available.</p>
<h2 id='region-specific-classifiers' class='heading'>Region Specific Classifiers</h2>

<p>ArcKit provides geographical region specific machine learning data, with each classifier containing the data for a
single region.</p>

<p>Region specific classifiers allow for detecting activity types based on region specific characteristics, with much
higher accuracy than iOS&rsquo;s built in Core Motion types detection. It also makes it possible to detect a greater number
of activity types, for example distinguishing between travel by car or train.</p>

<p>ArcKit&rsquo;s data regions are 0.1 by 0.1 lat/long degrees in size. Or in other words, roughly 100 kilometres by 100
kilometres, or about the size of a small town or city or a single neighbourhood in a larger city.</p>

<p>Larger cities might encompass anywhere from four to ten or more regions, thus allowing the classifers to accurately
detect activity type differences within different areas of a single city.</p>
<h2 id='multi-layered-model-data' class='heading'>Multi Layered Model Data</h2>

<p>Because it is not possible to provide complete model data for every individual 100 km^2 region in the entire world,
including oceans and deserts, ArcKit uses overlapping layers of model data, each with a different geographical range.</p>

<p>It&rsquo;s easiest to think of the layers as map zoom levels, from whole world zoom level, to country/state zoom level, to
town/neighbourhood zoom level.</p>

<p>For an example of the model layers in use, consider a user going for a walk in a remote village that ArcKit lacks any
town/neighbourhood level data for. Due to the lack of local data, the classifier will instead classify the walking
samples against model data at country/state level. And if even that level of model data is unavailable, the classifier
will fall back to using global scale model data. The end result being that the walking samples will still be
accurately detected, even though no local walking data was available.</p>

<p>Classifiers internally manage the model layers transparently, so in practice there is no need to have any awareness of
them.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Creating%20a%20Classifier"></a>
                <a name="//apple_ref/swift/Section/Creating a Classifier" class="dashAnchor"></a>
                <a href="#/Creating%20a%20Classifier">
                  <h3 class="section-name">Creating a Classifier</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit22ActivityTypeClassifierCACyxGSgSayAA0cD4NameOG14requestedTypes_SC22CLLocationCoordinate2DV10coordinatetcfc"></a>
                    <a name="//apple_ref/swift/Method/init(requestedTypes:coordinate:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit22ActivityTypeClassifierCACyxGSgSayAA0cD4NameOG14requestedTypes_SC22CLLocationCoordinate2DV10coordinatetcfc">init(requestedTypes:coordinate:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Use this init method to create a new classifier.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Classifiers should be retained and reused. Classifier creation requires potentially expensive cache
lookups and remote model data fetches. As such, creating new classifiers should only be done on an as needed
basis, and existing classifiers should be reused while still valid.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="n">convenience</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">requestedTypes</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Enums/ActivityTypeName.html">ActivityTypeName</a></span><span class="p">]</span> <span class="o">=</span> <span class="kt"><a href="../Enums/ActivityTypeName.html">ActivityTypeName</a></span><span class="o">.</span><span class="n">baseTypes</span><span class="p">,</span>
                             <span class="nv">coordinate</span><span class="p">:</span> <span class="kt">CLLocationCoordinate2D</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Data%20Coverage%20and%20Accuracy"></a>
                <a name="//apple_ref/swift/Section/Data Coverage and Accuracy" class="dashAnchor"></a>
                <a href="#/Data%20Coverage%20and%20Accuracy">
                  <h3 class="section-name">Data Coverage and Accuracy</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit22ActivityTypeClassifierC13coverageScoreSdv"></a>
                    <a name="//apple_ref/swift/Property/coverageScore" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit22ActivityTypeClassifierC13coverageScoreSdv">coverageScore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Coverage Score is the result of <code>completenessScore * accuracyScore</code>. This value is best used to get a general
sense of the quality and usability of the classifier&rsquo;s data.</p>

<p>In practice, any score above 0.15 indicates a usable classifier, however you should experiment with a range of
thresholds to determine a best fit minimum for your app&rsquo;s accuracy requirements.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">coverageScore</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit22ActivityTypeClassifierC17completenessScoreSdv"></a>
                    <a name="//apple_ref/swift/Property/completenessScore" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit22ActivityTypeClassifierC17completenessScoreSdv">completenessScore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Completeness Score is a measure of the number of individual samples used to compose the model versus
the minimum sample count necessary to produce reasonable machine learning classifying results.</p>

<p>The value is the average <code>completenessScore</code> of each activity type in the classifier. Thus a classifier that
contains three activity types with individual completenessScores of <code>1.0</code>, <code>0.5</code>, and <code>0.0</code> will have a
completenessScore of <code>0.5</code>.</p>

<p>A perfect 1.0 classifier completenessScore is rarely possible. For example a <code>baseTypes</code> classifier in a region
where people rarely ever run or cycle might have</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">completenessScore</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit22ActivityTypeClassifierC13accuracyScoreSdSgv"></a>
                    <a name="//apple_ref/swift/Property/accuracyScore" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit22ActivityTypeClassifierC13accuracyScoreSdSgv">accuracyScore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Accuracy Score is the expected minimum accuracy of the clasifier&rsquo;s results.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">accuracyScore</span><span class="p">:</span> <span class="kt">Double</span><span class="p">?</span> <span class="o">=</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit22ActivityTypeClassifierC8containsSbSC22CLLocationCoordinate2DV10coordinate_tF"></a>
                    <a name="//apple_ref/swift/Method/contains(coordinate:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit22ActivityTypeClassifierC8containsSbSC22CLLocationCoordinate2DV10coordinate_tF">contains(coordinate:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Determine whether the given coordinate is inside the classifier&rsquo;s geographical region.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>Ideally, classifiers should only be used to classify samples that fall inside the classifier&rsquo;s region.
However classifiers will still return usable results for samples outside of their region, albeit with
potentially reduced accuracy.</p>

<p>Extended transport activity types (car, train, etc) will have especially inaccurate results when classified
by a geographically inappropriate classifier. However base types (walking, running, etc) will fair better.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">contains</span><span class="p">(</span><span class="nv">coordinate</span><span class="p">:</span> <span class="kt">CLLocationCoordinate2D</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/sobri909/ArcKit" target="_blank" rel="external">Matt Greenfield</a>. All rights reserved. (Last updated: 2017-10-11)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.4</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
