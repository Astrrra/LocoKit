<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LocomotionManager Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/LocomotionManager" class="dashAnchor"></a>
    <a title="LocomotionManager Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">ArcKit Docs</a> (52% documented)</p>
        <p class="header-right"><a href="https://github.com/sobri909/ArcKit"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">ArcKit Reference</a>
        <img id="carat" src="../img/carat.png" />
        LocomotionManager Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/LocomotionManager.html">LocomotionManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LocomotionSample.html">LocomotionSample</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/MovingState.html">MovingState</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>LocomotionManager</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">LocomotionManager</span><span class="p">:</span> <span class="kt">NSObject</span></code></pre>

                </div>
              </div>
            <p>The central class for interacting with ArcKit location and activity recording. All actions should be performed on
the <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC10highlanderACvZ">LocomotionManager.highlander</a></code> singleton.</p>
<h2 id='overview' class='heading'>Overview</h2>

<p>LocomotionManager monitors raw device location and motion data and applies filtering and smoothing algorithms to 
produce a stream of high level <code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code> objects, a composite representation of the device and user&rsquo;s 
location and activity state at each point in time.</p>

<p>Locomotion samples include filtered and smoothed locations, the user&rsquo;s moving or stationary state, current
activity type (eg walking, running, cycling, etc), step hertz (ie walking, running, or cycling cadence), and more.</p>
<h3 id='energy-efficiency' class='heading'>Energy Efficiency</h3>

<p>LocomotionManager dynamically adjusts various device monitoring parameters, balancing current conditions and desired
results to achieve the desired accuracy in an energy efficient manner.</p>
<h2 id='core-location' class='heading'>Core Location</h2>

<p>To start recording location data call <code>startCoreLocation()</code>, and call <code>stopCoreLocation()</code> to stop.</p>
<h3 id='update-notifications' class='heading'>Update Notifications</h3>

<p>LocomotionManager will send <code>locomotionSampleUpdated</code> notifications via the system default 
<a href="https://developer.apple.com/documentation/foundation/notificationcenter">NotificationCenter</a> when each new location 
arrives.</p>

<p>Notifications will also be periodically sent even when no new location data is arriving, to indicate other
changes to the current state. The location in these samples may differ from previous even though new location data is 
not available, due to older raw locations being discarded from the sample.</p>
<h3 id='raw-filtered-and-smoothed-data' class='heading'>Raw, Filtered, and Smoothed Data</h3>

<p>ArcKit provides three levels of location data: Raw CLLocations, filtered CLLocations, and high level
location and activity state LocomotionSamples. See the documentation for <code>rawLocation</code>, <code>filteredLocation</code>,
and <code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code> for details on each.</p>
<h3 id='moving-state' class='heading'>Moving State</h3>

<p>When each raw location arrives LocomotionManager updates its determination of whether the user is moving or stationary, 
based on changes between current and previous locations over time. The most up to date determination is available
either from the <code>movingState</code> property on the LocomotionManager, or on the latest <code>locomotionSample</code>. See the
<code>movingState</code> documentation for further details.</p>
<h2 id='core-motion' class='heading'>Core Motion</h2>

<p>Motion and activity recording functionality is partially available in this release, however the methods and properties 
are undocumented and the more interesting machine learning based features haven&rsquo;t yet been exposed in the public API.
Coming soon!</p>

<p>You may already use <code>startCoreMotion()</code> and <code>stopCoreMotion()</code> to make use of the currently available functionality if 
you so desire. Doing so will result in extra <code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code> properties being filled. See the
<code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code> documentation for preliminary details on some of the available motion and activity properties.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/The%20Singleton"></a>
                <a name="//apple_ref/swift/Section/The Singleton" class="dashAnchor"></a>
                <a href="#/The%20Singleton">
                  <h3 class="section-name">The Singleton</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC10highlanderACvZ"></a>
                    <a name="//apple_ref/swift/Variable/highlander" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC10highlanderACvZ">highlander</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The LocomotionManager singleton instance, through which all actions should be performed.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="k">let</span> <span class="nv">highlander</span> <span class="o">=</span> <span class="kt">LocomotionManager</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Settings"></a>
                <a name="//apple_ref/swift/Section/Settings" class="dashAnchor"></a>
                <a href="#/Settings">
                  <h3 class="section-name">Settings</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC30maximumDesiredLocationAccuracySdv"></a>
                    <a name="//apple_ref/swift/Property/maximumDesiredLocationAccuracy" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC30maximumDesiredLocationAccuracySdv">maximumDesiredLocationAccuracy</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The maximum desired location accuracy in metres. Set this value to your highest required accuracy.</p>
<h3 id='dynamic-accuracy-adjustments' class='heading'>Dynamic Accuracy Adjustments</h3>

<p>LocomotionManager dynamically adjusts the internal CLLocationManager&rsquo;s <code>desiredAccuracy</code> over time, within the
range of <code>maximumDesiredLocationAccuracy</code> and the maximum accepted accuracy of 500 metres. Various heuristics are 
used to determine the current best possible accuracy, to avoid requesting a value beyond what can be currently
achieved, thus avoiding wasteful energy consumption.</p>

<p>For most uses the default value will achieve best results. Lower values will encourage the device to more quickly 
attain peak possible accuracy, at the expense of battery life. Lower values will extend battery life, at the cost 
of slower attainment of peak accuracy, or in some cases settling on accuracy levels below the best attainable by 
the hardware and sensors.</p>
<h3 id='thresholds-and-magic-numbers' class='heading'>Thresholds and Magic Numbers</h3>

<ul>
<li><p>iOS will usually attempt to exceed the requested accuracy, and may exceed it by a wide margin. For
example if clear GPS line of sight is available, peak accuracy of 5 metres will be achieved even when only 
requesting 50 metres or even 100 metres. However the higher the desired accuracy, the less effort
iOS will put into achieving peak possible accuracy.</p></li>
<li><p>Under some conditions, setting a value of 65 metres may allow the device to use wifi triangulation alone, without
engaging GPS, thus reducing energy consumption. Wifi triangulation is typically more energy efficient than GPS.</p></li>
<li><p>Setting a value above 100 metres will greatly reduce the <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC11movingStateAA06MovingF0Ov">movingState</a></code> accuracy, and is thus not recommended.</p></li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">maximumDesiredLocationAccuracy</span><span class="p">:</span> <span class="kt">CLLocationAccuracy</span> <span class="o">=</span> <span class="mi">30</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC6apiKeySSSgv"></a>
                    <a name="//apple_ref/swift/Property/apiKey" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC6apiKeySSSgv">apiKey</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Your ArcKit API key.</p>

<p>This value is only required if you want to use request limited functionality, such as <code>ActivityType</code> detection.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">apiKey</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Raw,%20Filtered,%20and%20Smoothed%20Data"></a>
                <a name="//apple_ref/swift/Section/Raw, Filtered, and Smoothed Data" class="dashAnchor"></a>
                <a href="#/Raw,%20Filtered,%20and%20Smoothed%20Data">
                  <h3 class="section-name">Raw, Filtered, and Smoothed Data</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC11rawLocationSo10CLLocationCSgv"></a>
                    <a name="//apple_ref/swift/Property/rawLocation" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC11rawLocationSo10CLLocationCSgv">rawLocation</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The most recently received raw CLLocation.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">rawLocation</span><span class="p">:</span> <span class="kt">CLLocation</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC16filteredLocationSo10CLLocationCSgv"></a>
                    <a name="//apple_ref/swift/Property/filteredLocation" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC16filteredLocationSo10CLLocationCSgv">filteredLocation</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The most recent <a href="https://en.wikipedia.org/wiki/Kalman_filter">Kalman filtered</a> CLLocation, based on the most 
recently received raw CLLocation.</p>

<p>If you require strictly real time locations, these filtered locations offer a reasonable intermediate
state between the raw data and the fully smoothed locomotion samples, with coordinates as near as possible to now.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Both the location coordinate and location altitude are Kalman filtered, however all other CLLocation 
properties (course, speed, etc) are identical to the values in <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC11rawLocationSo10CLLocationCSgv">rawLocation</a></code>. For fully smoothed and denoised 
motion properties you should use <code>locomotionSample</code> instead.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">filteredLocation</span><span class="p">:</span> <span class="kt">CLLocation</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC16locomotionSampleAA0cF0CyF"></a>
                    <a name="//apple_ref/swift/Method/locomotionSample()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC16locomotionSampleAA0cF0CyF">locomotionSample()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a new <code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code> representing the most recent filtered and smoothed locomotion state, with
combined location, motion, and activity properties.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">locomotionSample</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/LocomotionSample.html">LocomotionSample</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Current%20Moving%20State"></a>
                <a name="//apple_ref/swift/Section/Current Moving State" class="dashAnchor"></a>
                <a href="#/Current%20Moving%20State">
                  <h3 class="section-name">Current Moving State</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC11movingStateAA06MovingF0Ov"></a>
                    <a name="//apple_ref/swift/Property/movingState" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC11movingStateAA06MovingF0Ov">movingState</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code><a href="../Enums/MovingState.html">MovingState</a></code> of the current <code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code>.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    This value is as near to real time as possible, but typically represents the user&rsquo;s state between 6 and 60 
seconds in the past, with the age depending on the quality of available location data over that period of time. 
The higher the accuracy of current location data, the closer to now the reported moving state will be. If you need 
to know an exact timestamp to match the moving state, you should instead take a <code><a href="../Classes/LocomotionSample.html">LocomotionSample</a></code> instance from 
<code>locomotionSample</code> and use <code>movingState</code> and <code>date</code> on that sample.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">movingState</span><span class="p">:</span> <span class="kt"><a href="../Enums/MovingState.html">MovingState</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Starting%20and%20Stopping%20Location%20Recording"></a>
                <a name="//apple_ref/swift/Section/Starting and Stopping Location Recording" class="dashAnchor"></a>
                <a href="#/Starting%20and%20Stopping%20Location%20Recording">
                  <h3 class="section-name">Starting and Stopping Location Recording</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC17startCoreLocationyyF"></a>
                    <a name="//apple_ref/swift/Method/startCoreLocation()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC17startCoreLocationyyF">startCoreLocation()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start monitoring device location.</p>

<p><code>NSNotification.Name.didUpdateLocations</code> notifications will be sent through the system <code>NotificationCenter</code> as 
each location arrives.</p>

<p>Amongst other internal tasks, this will call <code>startUpdatingLocation()</code> on the internal location manager.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">startCoreLocation</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC16stopCoreLocationyyF"></a>
                    <a name="//apple_ref/swift/Method/stopCoreLocation()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC16stopCoreLocationyyF">stopCoreLocation()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Stop monitoring device location.</p>

<p>Amongst other internal tasks, this will call <code>stopUpdatingLocation()</code> on the internal location manager.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">stopCoreLocation</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC19resetLocationFilteryyF"></a>
                    <a name="//apple_ref/swift/Method/resetLocationFilter()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC19resetLocationFilteryyF">resetLocationFilter()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Reset the internal state of the location Kalman filters. When the next raw location arrives, <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC16filteredLocationSo10CLLocationCSgv">filteredLocation</a></code> 
will be identical to the raw location.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">resetLocationFilter</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Starting%20and%20Stopping%20Motion%20and%20Activity%20Recording"></a>
                <a name="//apple_ref/swift/Section/Starting and Stopping Motion and Activity Recording" class="dashAnchor"></a>
                <a href="#/Starting%20and%20Stopping%20Motion%20and%20Activity%20Recording">
                  <h3 class="section-name">Starting and Stopping Motion and Activity Recording</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC15startCoreMotionyyF"></a>
                    <a name="//apple_ref/swift/Method/startCoreMotion()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC15startCoreMotionyyF">startCoreMotion()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start monitoring Core Motion activity types, pedometer data, and accelerometer data. </p>

<p>Starting this service will result in several extra properties being filled in the locomotion samples.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Starting this service will not begin the delivery of <code>locomotionSampleUpdated</code> notifications. Update 
notifications are currently only started and stopped by the Core Location recording methods.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">startCoreMotion</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC14stopCoreMotionyyF"></a>
                    <a name="//apple_ref/swift/Method/stopCoreMotion()" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC14stopCoreMotionyyF">stopCoreMotion()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Stop monitoring Core Motion activity types, pedometer data, and accelerometer data.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">stopCoreMotion</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Misc%20Helpers%20and%20Convenience%20Wrappers"></a>
                <a name="//apple_ref/swift/Section/Misc Helpers and Convenience Wrappers" class="dashAnchor"></a>
                <a href="#/Misc%20Helpers%20and%20Convenience%20Wrappers">
                  <h3 class="section-name">Misc Helpers and Convenience Wrappers</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC21locationServicesAreOnSbv"></a>
                    <a name="//apple_ref/swift/Property/locationServicesAreOn" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC21locationServicesAreOnSbv">locationServicesAreOn</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A convenience wrapper for <code>CLLocationManager.locationServicesEnabled()</code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">locationServicesAreOn</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC25requestLocationPermissionySb10background_tF"></a>
                    <a name="//apple_ref/swift/Method/requestLocationPermission(background:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC25requestLocationPermissionySb10background_tF">requestLocationPermission(background:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A convenience wrapper for the <code>CLLocationManager</code> authorisation request methods.</p>

<p>You can also interact directly with the internal <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC08locationD0So010CLLocationD0Cv">locationManager</a></code> to perform these tasks.</p>

<ul>
<li>background: If <code>true</code>, will call <code>requestAlwaysAuthorization()</code>, otherwise <code>requestWhenInUseAuthorization()</code>
will be called. Default value is <code>false</code>.</li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">requestLocationPermission</span><span class="p">(</span><span class="nv">background</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC24haveCoreMotionPermissionSbv"></a>
                    <a name="//apple_ref/swift/Property/haveCoreMotionPermission" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC24haveCoreMotionPermissionSbv">haveCoreMotionPermission</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The device authorisation state for monitoring Core Motion data.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>iOS 11 however appears to have new Core Motion authorisation status APIs. I haven&rsquo;t had a chance to dig
into them yet, so this convenience getter doesn&rsquo;t yet take advantage of the new iOS 11 APIs.</p>

</div>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>This is possibly currently broken, and may return incorrect results. Something went weird in iOS 10.3,
and I haven&rsquo;t had a chance to get to the bottom of it yet. It may still be the case that the only way to determine
authorisation state is to go ahead and turn on monitoring and see if it fails or not.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">haveCoreMotionPermission</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC22haveLocationPermissionSbv"></a>
                    <a name="//apple_ref/swift/Property/haveLocationPermission" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC22haveLocationPermissionSbv">haveLocationPermission</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A convenience wrapper for <code>CLLocationManager.authorizationStatus()</code>.</p>

<p>Returns true if status is either <code>authorizedWhenInUse</code> or <code>authorizedAlways</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">haveLocationPermission</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC32haveBackgroundLocationPermissionSbv"></a>
                    <a name="//apple_ref/swift/Property/haveBackgroundLocationPermission" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC32haveBackgroundLocationPermissionSbv">haveBackgroundLocationPermission</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A convenience wrapper for <code>CLLocationManager.authorizationStatus()</code>.</p>

<p>Returns true if status is <code>authorizedAlways</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">haveBackgroundLocationPermission</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/The%20Internal%20CLLocationManager"></a>
                <a name="//apple_ref/swift/Section/The Internal CLLocationManager" class="dashAnchor"></a>
                <a href="#/The%20Internal%20CLLocationManager">
                  <h3 class="section-name">The Internal CLLocationManager</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6ArcKit17LocomotionManagerC08locationD0So010CLLocationD0Cv"></a>
                    <a name="//apple_ref/swift/Property/locationManager" class="dashAnchor"></a>
                    <a class="token" href="#/s:6ArcKit17LocomotionManagerC08locationD0So010CLLocationD0Cv">locationManager</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The internal CLLocationManager manager.</p>

<p>Direct interaction with this should be avoided. Starting and stopping location monitoring should instead be done
through LocomotionManager&rsquo;s <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC17startCoreLocationyyF">startCoreLocation()</a></code> and <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC16stopCoreLocationyyF">stopCoreLocation()</a></code> methods.</p>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    The CLLocationManager&rsquo;s <code>desiredAccuracy</code> and <code>distanceFilter</code> properties are managed internally.
Changes to them will be overriden, and may interfere with LocomotionManager&rsquo;s <code><a href="../Classes/LocomotionManager.html#/s:6ArcKit17LocomotionManagerC11movingStateAA06MovingF0Ov">movingState</a></code> detection. The
<code>delegate</code> should also not be changed, as this will disable LocomotionManager, and potentially result in the
untimely deaths of small cute animals in Madagascar.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">locationManager</span><span class="p">:</span> <span class="kt">CLLocationManager</span> <span class="o">=</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/sobri909/ArcKit" target="_blank" rel="external">Matt Greenfield</a>. All rights reserved. (Last updated: 2017-10-09)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.4</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
